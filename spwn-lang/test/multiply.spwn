
let copy (source, dest1, dest2) = { //ads first value to the two second values
    let add = {
        let mini_add(num) = {
            source.is(LARGER_THAN, num, {
                source.add(0 - num)
                dest1.add(num)
                dest2.add(num)
                wait(0.02, add)
            })
        }
        

        mini_add(40)
        mini_add(20)
        mini_add(10)
        mini_add(1)


        source.is(SMALLER_THAN, 1, {return})     
    }

    add!
}

let val1 = 10i
let val2 = 20i
let result = 30i

val1.add(50)
val2.add(34)

wait(1, {
    let tmp = ?i
    let trash = ?i
    
    let mult = {
        val2.is(LARGER_THAN, 0, {
            val2.add(-1)
            copy (val1, result, tmp)
            copy (tmp, val1, trash)
            wait(0.02, mult)
        })
    }

    mult!
})